# AI-assistant

ну и...

Интеллектуальный ассистент для организации личных задач и учебных дедлайнов.

Ассистент является частью классчиеского todo приложения. Этот проект - попытка создать систему которая не только хранит задачи, но и автоматизирует процесс их планирования, помогая решить
- что делать прямо сейчас
- что можно отложить
- где риск не уложиться в дедлайн
- и т.д.

# Содержание
- [AI-assistant](#ai-assistant)
- [Содержание](#содержание)
- [Аналоги](#аналоги)
  - [Notion](#notion)
  - [Todoist](#todoist)
  - [Motion](#motion)
- [Описание системы](#описание-системы)
  - [Общее предстваление](#общее-предстваление)
  - [Сущности](#сущности)
  - [Использование](#использование)
    - [Первый запуск](#первый-запуск)
    - [Привязка аккаунтов и синхронизация данных](#привязка-аккаунтов-и-синхронизация-данных)
    - [Добавление новой задачи](#добавление-новой-задачи)
    - [Просмотр задач](#просмотр-задач)
    - [Выполнение задачи](#выполнение-задачи)
    - [Просмотр статистики и аналитики](#просмотр-статистики-и-аналитики)
- [Визуализация](#визуализация)
- [Реализация](#реализация)
- [Мысли о чем-то](#мысли-о-чем-то)

# Аналоги

В качестве аналогов и существующих решений можно рассмотреть
- **Notion** - как универсальный инструмент для организации информации.
- **Todoist** - как классическое и популярное todo приложение.
- **Motion** - как todo систему с огромным количеством фич и интеграцией искусственного интеллекта.

## Notion

![](/images/notion.avif)

Notion представляет собой очень гибкую платформу для создания пользовательских систем управления информацией.

Функциональные возможности:
- практически безграничные

Преимущества:
- высокая гибкость;
- возможность моделирования собственной структуры процессов;
- поддержка командной работы.

Ограничения:
- отсутствие встроенного алгоритма интеллектуального планирования;
- нет автоматического перераспределения нагрузки;
- все зависит от пользователя.


## Todoist

![](/images/todoist.jpg)

Todoist ориентирован на быстрое добавление и управление задачами.

Функциональные возможности:
- проекты и подзадачи;
- приоритеты (P1–P4);
- дедлайны и напоминания;
- естественный язык для ввода;
- работа в команде;
- базовая статистика выполнения задач.

Преимущества:
- простота интерфейса;
- быстрый ввод задач;
- высокая стабильность и удобство использования.

Ограничения:
- отсутствует анализ загруженности пользователя;
- нет учета сложности задач;
- нет автоматической генерации расписания;
- пользователь самостоятельно решает, когда выполнять задачу.

## Motion

![](/images/motion.webp)

Motion позиционируется как интеллектуальный планировщик задач с автоматическим составлением расписания.

Функциональные возможности:
- автоматическое распределение задач по календарю;
- учет дедлайнов и длительности;
- пересчет расписания при изменении условий;
- интеграция с календарями;
- элементы AI-ассистента;
- AI-работники;

Преимущества:
- динамическое планирование;
- снижение необходимости ручного управления временем;
- адаптация к изменениям;
- встроенные ИИшки помогающие буквально во всем;
- высокая интеграция с другими сервисами.

Ограничения:
- закрытая логика алгоритмов;
- отсутствие прозрачности принятия решений;
- высокая сложность системы;
- платная модель распространения.

# Описание системы

## Общее предстваление

Первая версия проекта будет представлена в виде веб-интерфейса для пк. Это классическая todo система + алгоритмы планирования задач. Кроме того первая версия системы направленна именно на студентов БГУИРа.

## Сущности

далее, при создании сущностей пользователем:
- [O] - обязательные для заполнения
- [П] - предзаполненные (но можно изменить)
- [Н] - необязательные для заполнения

**Задача** - основная планируемая единица.
- [O] название (непосредственно сама задача)
- [Н] описание (подробное описание задачи)
- [Н] предполагаемое время выполнения задачи
  - [П] минимальное время подзадачи (то есть на какие временные периоды можно разбить задачу)
- [П] дедлайн
- [П] время начала, постановки задачи
- [П] приоритет
- [Н] теги
- [Н] цвет
- [П] хз как назвать пусть будет замочек (разрешение на автоматическое перемещение задачи ИИшкой)
- [П] исполнитель (тот кто будет выполнять задачу, будет видно только для проектов с другими людьми)
- состояние
  - todo
  - in progress
  - completed
  - cancelled
  - заблокирована
- принадлежность рабочему пространству
- принадлежность проекту
- заблокирована задачей (для выполнения этой задачи необходимо выполнение другой задачи)
- блокирует задачу (блокирует выполнение задачи)
- уведомление

**Событие** - это просто блок времени занятый под что-то. Событие не требует выполнения, может требовать уведомления до события, но самое главное что оно занимает время для планировщика.
- [О] название
- [Н] описание
- [О] начало события
- [О] конец события
- [Н] теги
- [Н] цвет
- уведомления

**Привычка** - шаблон генерации задач.
- [О] сама задача или событие
- [О] частота повторения
- [П] длительность
- [О] предпочтительное время (или точное)

**Рабочее пространство** - это уровень группировки задач по сферам. Например учеба, личные задачи, работа, бизнес и т.п.
- [О] название
- [О] участники

**Проект** - это ограниченное рабочее пространство, представляющее собой набор задач выполнение которых приводит к выполнению крупной задачи - проекта.
- [О] название
- [Н] описание
- [П] приоритет
- [П] дедлайн
- [П] время начала, постановки задачи
- [Н] теги
- [Н] цвет
- состояние

**Входящие задачи** - куча задач для которых еще не определена дата и время выполнения, то есть "сделай когда-нибудь".

**prime задача** - задача которую нужно выполнять прямо сейчас. Она висит где-нибудь отдельно и видна с любой точки интерфейса.

**Автопланировщик** - мен который планирует выполнение задач. Перепланирует задачи при любом изменении в задачах.
вход:
- все задачи разрешенные для перемещения, а именно их поля
  - приоритет
  - время выполнения
  - дедлайн
  - блокировки
- занятое время
  - событиями
  - ограничения пользователя (выбирается в настройка, условно время когда он не спит)
- ?предпочтения пользователя?
выход:
- ранжированные задачи по порядку рекомендуемого выполнения
- расположение этих задач в календаре конкретно по времени
- Prime задача (первая в ранге, а вообще первая в календаре т.к. например задачу нельзя разбить на подзадачи а выполнить ее уеликом например до пар нельзя, поэтому лучше сделать какую-нибудь другую)

**Агент автоматического создания учебных задач** - создает (по одобрению пользователя, то есть он предлагает и если пользователь согласен то создает) учебные задачи на основе данных из LMS, то есть:
1) создает (если еще не создано) рабочее просравнство "учеба"
2) для каждого предмета создает отдельный проект в пространстве "учеба"
3) если есть информация о контрольных точках/лабораорных (если используем LLM и автоматический доступ к СЭО или в дополнительном интерфейсе для быстрого ввода пользователем информации о количестве лабораторных, мб их контрольных точках), то можно сделать в соотвествующих проектах задачи. Дедлайны будут либо введены пользователем, либо прочитаны из какоой-либо LMS, либо рассчитаны автоматически на основе количества лаб (они будут приняты за равновесомые) и количества занятий по пз (это уже неплохое приближение ну и чаще всего так и есть, что дедайны деляться просто поровну только со смещенем влево, чтобы последние занятия остались под отстающих).
4) если есть доступ к СЭО, можно добавлять задачи - тесты. То есть для кадого из теста по курсу добалять задачу (тут еще поще так как дедлайны указаны и время выполнения указаны)

## Использование

### Первый запуск
Пользователь отвечает (выбирает ответы) на несколько вопросов, по типу:
- кто вы программист дизайнер или писатель
- кто вы студент или нет
- студент какого вуза
- откуда вы о нас узнали

Пользователь привязывает свой gmail и создает аккаунт. Тут же первичная настройка по типу укажите время когда бодурствете (или время когда готовы выполнять задачи)

### Привязка аккаунтов и синхронизация данных

**Google Calendar** - две опции обмена событиями и задачами:
- импорт
- экспорт


**Github** - можно подключить аккаунт, а для конкретных проектов указывать проект на гитхабе (тогда задачи будут не вакуумными а конкртено привязаны к проекту), это позволит:
- извлекать задачи из issues (в том числе дедлайн, и статус выполнения)
- мб извлекать pull requests
- мб собирать активность пользователя


**LMS (пока конкретно про бгуировские)** - можно собирать данные
- расписание. Оно будет обновляться так же как и приложение (каждый раз при новой сессии (запуске) будет проверяться актуальное ли расписание и предлогать обновиться)
- мб оценки по предметам
- тесты с сэо (с дедлайнами)
- мб материалы с сэо (если будем использовать LLM)


### Добавление новой задачи

Добавить задачу можно (не значит что нужно) в любой части системы. Пользователь заполняет соответствующие поля. Далее:
1) если включена функция автоматического планирования - то задача сама встроится в расписание
2) если нет, то задача переместиться в раздел входящих задач

В зависимости от того где была создана задача, она получит дополнительное описание, то есть принадлежность какому-либо рабочему пространству, проекту.

### Просмотр задач
Для того чтобы просмотреть задачу на главной панели есть:
- входящие задачи
- сегодняшние задачи - задачи на сегодня
- календарь - отображение как в гугл календаре
- проекты и задачи - включают три режима просмотра 
	- лист
	- канбан
	- гант

### Выполнение задачи
Есть два варианта сделать задачу:
1) базово - когда задача будет выполнена просто "поставить галочку" рядом с задачей. Если у задачи было указано время выполнения то система будет считать что именно это время вы потратили на выполнение задачи (можно предложить пользователю самому указать это время)
2) идеально - в начале выволнения задачи нажать на кнопку плей (такая кнопка будет рядом с prime задачей; любую задачу можно сделать prime задачей), после выполнения задачи нажать на кнопку done, если задача не выполнена но уже не выполняется stop. Это не так сложно как кажется, особенно если и задача и система находяться на десктопе.

### Просмотр статистики и аналитики
Для просмотра статистики пользователь переходит в соответствующий раздел, выбирает какую именно статистику он хочет просмотреть (за какое время, какой воркспейс, или какой проект и т.д.) после чего генерируются диаграммы просмотра.
- общее количество выполненных задач
- количество выполненных поектов
- количество просроченных задач
- количество дней подряд, когда выподненились задачи
- проценты выполнения по участникам
- время выполнения
- нагрузка в день
- сравнение фактического и планируемого времен выполнения задач
- нагрузка по проектам (по дисциплинам)
- и т.д.

На основе этих данных можно дfвать пользователю рекомендации или менять поведение автопланировщика.

# Визуализация

мне лень, посмотрите как вынлядит todoist и в особенности motion

![](/images/example.png)
![](/images/example2.png)

# Реализация

Тяжело...
Что вобщее нужно будет сделать:

- Серверная часть, core
  - Проектирование БД (определить все сущности: users, tasks, events, projects, workspaces, dependencies, history, integrations; описать связи, внешние ключи, индексы по дедлайнам и статусам; продумать soft delete и хранение истории изменений; подготовить ER-диаграмму и SQL-схему)
  - Auth и пользовательские модели (реализовать регистрацию и логин через OAuth2 Google; JWT access/refresh токены; роли пользователей; middleware для защиты эндпоинтов; изоляция данных по user_id)
  - Сервисный слой (разделить API и бизнес-логику; создать TaskService, SchedulerService, AnalyticsService, IntegrationService; реализовать валидацию и транзакционную логику)
  - Хранилище истории выполнения (создать таблицу task_history; логировать смену статусов, запуск/остановку таймера, изменение дедлайна; хранить фактическое время выполнения)
  - Endpoints для запуска/получения расписания (реализовать API для запуска планировщика, получения today-view и calendar-view; защититься от параллельного запуска; предусмотреть механизм пометки расписания как требующего пересчёта)

- Умный ассистент
  - Архитектура планировщика и интерфейс модуля (определить входные данные: задачи, дедлайны, длительности, занятое время; определить выход: список слотов и ранжированные задачи; выделить Scheduler как отдельный модуль)
  - Простейший greedy scheduler (реализовать сортировку по дедлайну и приоритету; разбивку задач на слоты; последовательное заполнение календаря свободными окнами)
  - Slot-finder (реализовать алгоритм поиска свободных временных интервалов с учетом занятых событий и пользовательских ограничений по времени бодрствования)
  - Перепланирование (реализовать пересчет только будущих задач при любом изменении; не затрагивать завершенные задачи; использовать флаг "dirty schedule")
  - Scoring function (разработать формулу оценки задачи на основе дедлайна, приоритета, запаса времени и блокировок; предусмотреть возможность изменения весов)
  - Улучшения (реализовать балансировку нагрузки по дням; поддержку energy-type; soft deadlines; минимизацию переключения контекста)

- Модуль интеграций и синхронизации
  - Инфраструктура интеграций (создать таблицу integrations; хранить зашифрованные токены; реализовать единый интерфейс IntegrationProvider; предусмотреть механизм фоновой синхронизации)
  - Google Calendar (реализовать OAuth; импорт событий; экспорт задач; обработку таймзон; синхронизацию изменений)
  - GitHub (OAuth; импорт issues; сопоставление issue ↔ task; обработка статусов; обновление при закрытии задач)
  - LMS (ИИС БГУИР) (реализовать механизм получения расписания и дедлайнов — через API, scraping или ручной импорт; конвертация в задачи и события; периодическое обновление)
  - Webhooks / polling, conflict resolution logic (если сервис поддерживает — использовать webhooks; иначе polling; реализовать стратегию разрешения конфликтов — source of truth или last write wins)

- Модуль аналитики
  - Сбор логов выполнения, вычисление базовых метрик (на основе task_history вычислять фактическое время, задержки, перегрузку по дням)
  - Метрики: avg estimate error, overload index, % on-time (реализовать формулы расчета; агрегирование по периоду, проекту, workspace)
  - Recommendation engine (на основе метрик выдавать рекомендации: корректировка оценки времени, предупреждение о перегрузке, необходимость буфера)
  - Возможность экспорта данных (CSV/JSON) (реализовать эндпоинт для выгрузки данных пользователя)

- Пользовательский интерфейс (Frontend)
  - Дизайн основных экранов (Sidebar, Today, Calendar, Projects, Prime task, Profile, Analytics; определить UX-логику переходов)
  - Базовый SPA, навигация, auth flow (реализовать роутинг; хранение токенов; protected routes; state management)
  - Today view (отображение задач на день; кнопки play/stop/done; индикация перегрузки)
  - Calendar view (week-view; отображение слотов; drag & drop; синхронизация с backend)
  - Projects view: list / kanban / gantt (переключение режимов; визуализация статусов; поддержка зависимостей)
  - Integrations UI, profile & preferences page (подключение сервисов; управление рабочими часами; настройка поведения автопланировщика)
  - Analytics dashboards (графики метрик; фильтры по периоду и проекту; визуализация трендов)
  - Улучшения (анимации; горячие клавиши; dark mode; оптимизация производительности)

- Плюс покрытие всего тестами
  - Unit-тесты для планировщика и scoring function
  - Тесты сервисного слоя
  - Интеграционные тесты API
  - E2E тестирование ключевого пользовательского сценария (создание задачи → планирование → выполнение → аналитика)

# Мысли о чем-то

- В будущем на основе данных о пользователях, предметах, количетсве лаб и дедлайнах можно прокачивать модели чтобы они сразу идеально распределяли время между лабораторными, и планировали время их выполнения.
- сделать встроенный сервис для поиска {команды на проект/проекта} среди пользователей системы.
- хз что там с перплексити и как он работает, но если студенты могут его получить по студаку, а приложение для студентов, то можно использовать апи перплексити студентов (если оно есть).
